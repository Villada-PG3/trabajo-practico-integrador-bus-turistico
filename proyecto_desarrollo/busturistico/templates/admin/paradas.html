{% extends "admin/base_admin.html" %}
{% block title %}Gestión de Paradas - Panel Admin{% endblock %}
{% block content %}
<div class="container mt-5">
    <h2 class="mb-4">Paradas Turísticas</h2>
    <p class="text-muted">Administra las paradas disponibles en los recorridos</p>

    <div class="d-flex justify-content-end mb-3">
        <a href="{% url 'admin-nuevo-parada' %}" class="btn btn-dark">+ Nueva Parada</a>
    </div>

    <div class="input-group mb-3">
        <input type="text" class="form-control" placeholder="Buscar paradas por nombre o dirección...">
        <button class="btn btn-outline-secondary" type="button">Buscar</button>
    </div>

    <div class="card p-3 mb-3">
        {% if paradas %}
            {% for parada in paradas %}
            <div class="d-flex w-100 justify-content-between align-items-start mb-3">
                <div>
                    <h5>{{ parada.nombre_parada }}</h5>

                    {% if parada.foto_parada %}
                        <img src="{{ parada.foto_parada.url }}" alt="{{ parada.nombre_parada }}" style="max-width:200px; margin-bottom:10px;">
                    {% else %}
                        <p class="text-muted">Sin foto disponible</p>
                    {% endif %}

                    <p>Dirección: {{ parada.direccion_parada }}</p>

                    <p>
                        Coordenadas: ({{ parada.latitud_parada }}, {{ parada.longitud_parada }})  
                        <a class="btn btn-sm btn-outline-primary" 
                           href="https://www.google.com/maps?q={{ parada.latitud_parada }},{{ parada.longitud_parada }}" 
                           target="_blank">
                           Ver en Google Maps
                        </a>
                    </p>
                </div>

                <div class="d-flex flex-column">
                    <a href="{% url 'admin-editar-parada' parada.pk %}" class="btn btn-sm btn-warning mb-2">Editar</a>
                    <a href="{% url 'admin-eliminar-parada' parada.pk %}" class="btn btn-sm btn-danger">Eliminar</a>
                    <a href="{% url 'admin-detalle-parada' parada.pk %}" class="btn btn-info btn-sm">Detalle</a>
                </div>
            </div>
            <hr>
            {% endfor %}
        {% else %}
            <p class="text-muted">No hay paradas registradas.</p>
        {% endif %}
    </div>
</div>
{% endblock %}
